<!-- upload.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Upload</title>
  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background: #fffbe0;
      padding: 30px;
    }
    input, button {
      padding: 10px;
      margin: 10px;
    }
    progress {
      width: 300px;
    }
  </style>
</head>
<body>

  <h2>ðŸ“¤ Upload File</h2>
  <input type="file" id="fileInput"><br>
  <button onclick="uploadFile()">Upload</button>
  <progress value="0" max="100" id="progressBar"></progress>
  <p id="uploadStatus"></p>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBpWuhoWGHhtNjhMX2wboOIYeKSWPGVjQw",
      authDomain: "medsathuin.firebaseapp.com",
      projectId: "medsathuin",
      storageBucket: "medsathuin.appspot.com",
      messagingSenderId: "1087859187304",
      appId: "1:1087859187304:web:32bb82b3857b63cc87a5dd",
      measurementId: "G-CKB9T80HYB"
    };
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();

    function uploadFile() {
      const file = document.getElementById("fileInput").files[0];
      const storageRef = storage.ref("uploads/" + file.name);
      const uploadTask = storageRef.put(file);

      uploadTask.on("state_changed", snapshot => {
        const percent = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
        document.getElementById("progressBar").value = percent;
      }, error => {
        alert("Upload failed: " + error.message);
      }, () => {
        document.getElementById("uploadStatus").innerText = "âœ… Uploaded successfully!";
      });
    }
  </script>

</body>
</html>
